(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,a){e.exports={submit__btn:"src_submit__btn__1uo9V",edit:"src_edit__3MOnq"}},43:function(e,t,a){e.exports=a(77)},48:function(e,t,a){},72:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),l=a.n(r),o=(a(48),a(2)),i=a(13),s=c.a.memo((function(e){var t=e.open;return void 0!==t&&t?c.a.createElement("div",{className:"progress progress__card_header"},c.a.createElement("div",{className:"indeterminate"})):null})),u=a(21),d=a.n(u),O=c.a.memo((function(e){var t=e.edit,a=void 0!==t&&t;return c.a.createElement("button",{type:"submit",className:"btn waves-effect waves-light ".concat(d.a.submit__btn)},c.a.createElement("div",{className:a?"":d.a.edit},c.a.createElement("div",null,"Save",c.a.createElement("i",{className:"material-icons right"},"save")),c.a.createElement("div",null,"Edit",c.a.createElement("i",{className:"material-icons right"},"edit"))))})),p=c.a.memo((function(e){var t=e.handleDelete;return c.a.createElement("button",{onClick:t,className:"btn waves-effect waves-light red darken-2",type:"button"},c.a.createElement("i",{className:"material-icons"},"delete"))})),m=a(18),b=a(38),E=a.n(b).a.create({baseURL:"//todo.api.eachbase.com/api"}),f=new Map([["selected_blue","#3f51b5"],["selected_green","#4caf50"],["selected_pink","#e91e63"],["selected_purple","#9c27b0"],["selected_sea-blue","#2196f3"],["selected_yellow","#ffc107"]]),v=function(e){var t,a=Object(m.a)(f);try{for(a.s();!(t=a.n()).done;){var n=Object(i.a)(t.value,2),c=n[0];if(e===n[1])return c}}catch(r){a.e(r)}finally{a.f()}},_=function(e){return"/todo/".concat(e)},j=function(e){var t=e.index,a=e.todo,r=e.updateTodo,l=e.deleteTodo,u=Object(n.useState)(!1),d=Object(i.a)(u,2),m=d[0],b=d[1],E=Object(n.useState)(a.title),f=Object(i.a)(E,2),_=f[0],j=f[1],h=Object(n.useState)(a.description),D=Object(i.a)(h,2),T=D[0],y=D[1],k=Object(n.useState)(a.color),N=Object(i.a)(k,2),C=N[0],x=N[1],g=Object(n.useMemo)((function(){return v(C)}),[C]),S=Object(n.useCallback)((function(e){b(e)}),[]),w=Object(n.useCallback)((function(e,t){b(e),x(t)}),[]);return Object(n.useEffect)((function(){S(!1)}),[S,a]),c.a.createElement("div",{className:"col col_item s12 m12 l6 xl4"},c.a.createElement("div",{className:"card card__block blue-grey"},c.a.createElement(s,{open:a.panding}),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m?r(t,Object(o.a)(Object(o.a)({},a),{},{description:T,title:_,color:C})):S(!0)}},c.a.createElement("div",{className:"card-content white-text"},m?c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{required:!0,className:"card-title",value:_,onChange:function(e){return j(e.target.value)}}),c.a.createElement("textarea",{required:!0,value:T,onChange:function(e){return y(e.target.value)}})):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"card-title"},_),c.a.createElement("p",null,T))),c.a.createElement("div",{className:"card-action card__action_wraper"},c.a.createElement("div",{className:"action__block"},c.a.createElement(O,{edit:m}),c.a.createElement(p,{handleDelete:function(){return l(t)}})),c.a.createElement("div",{className:"color__block ".concat(g)},c.a.createElement("div",{onClick:function(){return w(!0,"#e91e63")},className:"pink circle"}),c.a.createElement("div",{onClick:function(){return w(!0,"#9c27b0")},className:"purple circle"}),c.a.createElement("div",{onClick:function(){return w(!0,"#4caf50")},className:"green circle"}),c.a.createElement("div",{onClick:function(){return w(!0,"#ffc107")},className:"yellow circle"}),c.a.createElement("div",{onClick:function(){return w(!0,"#2196f3")},className:"sea-blue circle"}),c.a.createElement("div",{onClick:function(){return w(!0,"#3f51b5")},className:"blue circle"}))))))},h=c.a.memo((function(e){var t=e.panding,a=e.count;return 0===a&&t?c.a.createElement("div",{className:"preloader-wrapper big active"},c.a.createElement("div",{className:"spinner-layer spinner-blue-only"},c.a.createElement("div",{className:"circle-clipper left"},c.a.createElement("div",{className:"circle"})),c.a.createElement("div",{className:"gap-patch"},c.a.createElement("div",{className:"circle"})),c.a.createElement("div",{className:"circle-clipper right"},c.a.createElement("div",{className:"circle"})))):0!==a||t?null:c.a.createElement("div",{className:"preloader-wrapper"},c.a.createElement("h4",null,"There is no ToDo"))})),D=a(19),T=a(22),y=a(23),k=a(28),N=a(27),C=a(12),x=function(e){return{type:"GET_TODOS_PANDING",payload:e}},g=function(e){return{type:"GET_TODOS_ERROR",payload:e}},S=function(e){return{type:"UPDATE_TODO_PANDING",payload:e}},w=function(e){return{type:"UPDATE_TODO_SUCCES",payload:e}},A=function(e){return{type:"UPDATE_TODO_ERROR",payload:e}},R=function(e){return{type:"DELETE_TODO_SUCCES",payload:e}},L=function(e){return{type:"DELETE_TODO_ERROR",payload:e}},U=function(e){return{type:"DELETE_ALL_TODOS_ERROR",payload:e}},P=function(e){return{type:"ADD_TODO_PANDING",payload:e}},G=function(e){return{type:"ADD_TODO_SUCCES",payload:e}},I=function(e){return{type:"ADD_TODO_ERROR",payload:e}},M=document.getElementById("modal-root"),q=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).el=void 0,n.el=document.createElement("div"),n.state={name:"",text:"",color:"#e91e63"},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){null===M||void 0===M||M.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){null===M||void 0===M||M.removeChild(this.el)}},{key:"onSubmit",value:function(){}},{key:"componentDidUpdate",value:function(e){!1===this.props.open&&!0===e.open&&this.setState({name:"",text:"",color:"#e91e63"})}},{key:"handleName",value:function(e){this.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{name:e})}))}},{key:"handleText",value:function(e){this.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{text:e})}))}},{key:"handleColor",value:function(e){this.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},{color:e})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.text,r=t.color,o=v(r);return l.a.createPortal(c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{id:"modal1",className:"modal ".concat(this.props.open?"":"open")},c.a.createElement("div",{className:"card add_card_block card__block blue-grey"},c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.props.addTodo({color:r,title:a,description:n}),e.props.handleClick()}},c.a.createElement("div",{className:"card-content white-text"},c.a.createElement("input",{placeholder:"New todo",required:!0,className:"card-title",value:a,onChange:function(t){return e.handleName(t.target.value)}}),c.a.createElement("textarea",{placeholder:"Todo deskription",required:!0,value:n,onChange:function(t){return e.handleText(t.target.value)}})),c.a.createElement("div",{className:"card-action card__action_wraper"},c.a.createElement(O,{edit:!0}),c.a.createElement("div",{className:"color__block ".concat(o)},c.a.createElement("div",{onClick:this.handleColor.bind(this,"#e91e63"),className:"pink circle"}),c.a.createElement("div",{onClick:this.handleColor.bind(this,"#9c27b0"),className:"purple circle"}),c.a.createElement("div",{onClick:this.handleColor.bind(this,"#4caf50"),className:"green circle"}),c.a.createElement("div",{onClick:this.handleColor.bind(this,"#ffc107"),className:"yellow circle"}),c.a.createElement("div",{onClick:this.handleColor.bind(this,"#2196f3"),className:"sea-blue circle"}),c.a.createElement("div",{onClick:this.handleColor.bind(this,"#3f51b5"),className:"blue circle"})))))),c.a.createElement("div",{onClick:this.props.handleClick,className:"modal-overlay ".concat(this.props.open?"":"open")}),c.a.createElement("button",{onClick:this.props.handleClick,className:"btn-floating btn-large waves-effect waves-light blue add_botton",type:"button"},c.a.createElement("i",{className:"material-icons"},"add"))),this.el)}}]),a}(c.a.Component),F={addTodo:function(e){return{type:"ADD_TODO",payload:e}}},B=Object(C.b)(null,F)(q),W=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).state={open:!0},n.handleClick=n.handleClick.bind(Object(D.a)(n)),n}return Object(y.a)(a,[{key:"handleClick",value:function(){this.setState((function(e){return{open:!e.open}}))}},{key:"render",value:function(){return c.a.createElement(B,{handleClick:this.handleClick,open:this.state.open})}}]),a}(c.a.Component),J=c.a.memo((function(e){var t=e.handleClick;return c.a.createElement("button",{onClick:t,className:"btn-floating btn-large waves-effect waves-light red delete_botton"},c.a.createElement("i",{className:"material-icons"},"delete"))})),V=(a(72),function(){var e=Object(C.d)((function(e){return{panding:e.panding,todos:e.todos}})),t=e.panding,a=e.todos,r=Object(C.c)(),l=Object(n.useCallback)((function(e,t){r(function(e,t){return{type:"UPDATE_TODO",payload:e,index:t}}(t,e))}),[r]),o=Object(n.useCallback)((function(e){r({type:"DELETE_TODO",payload:e})}),[r]),i=Object(n.useCallback)((function(){r({type:"DELETE_ALL_TODOS"})}),[r]);return Object(n.useEffect)((function(){r({type:"GET_TODOS"})}),[r]),c.a.createElement(c.a.Fragment,null,c.a.createElement(W,null),c.a.createElement(J,{handleClick:i}),c.a.createElement(h,{count:a.length,panding:t}),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},a.map((function(e,t){return c.a.createElement(j,{deleteTodo:o,updateTodo:l,key:e._id,index:t,todo:e})})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=a(9),z=a(42),H=a(11),K=a(8),Q=a.n(K),X=a(5),Y=Q.a.mark(ce),Z=Q.a.mark(re),ee=Q.a.mark(le),te=Q.a.mark(oe),ae=Q.a.mark(ie),ne=Q.a.mark(se);function ce(){var e,t,a;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(X.e)((function(e){return e.todos}));case 2:if(0!==n.sent.length){n.next=24;break}return n.prev=4,n.next=7,Object(X.c)(x(!0));case 7:return n.next=9,Object(X.b)(E.get,"/todo");case 9:return e=n.sent,t=e.data,a=t.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{panding:!1})})),n.next=14,Object(X.c)({type:"GET_TODOS_SUCCES",payload:a});case 14:n.next=20;break;case 16:return n.prev=16,n.t0=n.catch(4),n.next=20,Object(X.c)(g(n.t0));case 20:return n.prev=20,n.next=23,Object(X.c)(x(!1));case 23:return n.finish(20);case 24:case"end":return n.stop()}}),Y,null,[[4,16,20,24]])}function re(e){var t,a,n,c,r,l,i;return Q.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.index,a=e.payload,s.next=3,Object(X.e)((function(e){return e.todos}));case 3:return n=s.sent,c=Object(o.a)({},n[t]),r=Object(H.a)(n),s.prev=6,c=Object(o.a)(Object(o.a)({},c),{},{panding:!0}),r[t]=c,s.next=11,Object(X.c)(S(Object(H.a)(r)));case 11:return s.next=13,Object(X.b)(E.patch,(u=a._id,"/todo/".concat(u)),a);case 13:return l=s.sent,i=l.data,c=Object(o.a)(Object(o.a)({},c),i),r[t]=c,s.next=19,Object(X.c)(w(Object(H.a)(r)));case 19:s.next=25;break;case 21:return s.prev=21,s.t0=s.catch(6),s.next=25,Object(X.c)(A(s.t0));case 25:return s.prev=25,c=Object(o.a)(Object(o.a)({},c),{},{panding:!1}),r[t]=c,s.next=30,Object(X.c)(S(Object(H.a)(r)));case 30:return s.finish(25);case 31:case"end":return s.stop()}var u}),Z,null,[[6,21,25,31]])}function le(e){var t,a,n,c;return Q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(X.e)((function(e){return e.todos}));case 3:return a=r.sent,n=Object(o.a)({},a[t]),c=Object(H.a)(a),r.prev=6,n=Object(o.a)(Object(o.a)({},n),{},{panding:!0}),c[t]=n,r.next=11,Object(X.c)({type:"DELETE_TODO_PANDING",payload:Object(H.a)(c)});case 11:return r.next=13,Object(X.b)(E.delete,_(n._id));case 13:return r.next=15,Object(X.c)(R(c.filter((function(e){return e._id!==n._id}))));case 15:r.next=21;break;case 17:return r.prev=17,r.t0=r.catch(6),r.next=21,Object(X.c)(L(r.t0));case 21:case"end":return r.stop()}}),ee,null,[[6,17]])}function oe(){var e,t,a,n;return Q.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(X.e)((function(e){return e.todos}));case 3:e=c.sent,t=Object(m.a)(e),c.prev=5,t.s();case 7:if((a=t.n()).done){c.next=13;break}return n=a.value,c.next=11,Object(X.d)(2,150,E.delete,_(n._id));case 11:c.next=7;break;case 13:c.next=18;break;case 15:c.prev=15,c.t0=c.catch(5),t.e(c.t0);case 18:return c.prev=18,t.f(),c.finish(18);case 21:return c.next=23,Object(X.c)({type:"DELETE_ALL_TODOS_SUCCES",payload:[]});case 23:c.next=29;break;case 25:return c.prev=25,c.t1=c.catch(0),c.next=29,Object(X.c)(U(c.t1));case 29:case"end":return c.stop()}}),te,null,[[0,25],[5,15,18,21]])}function ie(e){var t,a,n,c;return Q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(X.e)((function(e){return e.todos}));case 4:return a=r.sent,r.next=7,Object(X.c)(P(!0));case 7:return r.next=9,Object(X.b)(E.post,"/todo/",t);case 9:return n=r.sent,c=n.data,r.next=13,Object(X.c)(G([].concat(Object(H.a)(a),[Object(o.a)(Object(o.a)({},c),{},{panding:!1})])));case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(1),r.next=19,Object(X.c)(I(r.t0));case 19:return r.prev=19,r.next=22,Object(X.c)(P(!1));case 22:return r.finish(19);case 23:case"end":return r.stop()}}),ae,null,[[1,15,19,23]])}function se(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.a)([Object(X.f)("GET_TODOS",ce),Object(X.f)("UPDATE_TODO",re),Object(X.f)("DELETE_TODO",le),Object(X.f)("DELETE_ALL_TODOS",oe),Object(X.f)("ADD_TODO",ie)]);case 2:case"end":return e.stop()}}),ne)}var ue=se,de=(a(74),a(26)),Oe=a(40),pe={todos:[],panding:!1,error:null},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TODOS_SUCCES":return Object(o.a)(Object(o.a)({},e),{},{todos:t.payload});case"GET_TODOS_PANDING":return Object(o.a)(Object(o.a)({},e),{},{panding:t.payload});case"GET_TODOS_ERROR":case"DELETE_TODO_ERROR":case"UPDATE_TODO_ERROR":case"DELETE_ALL_TODOS_ERROR":return Object(o.a)(Object(o.a)({},e),{},{error:t.payload});case"DELETE_ALL_TODOS_PANDING":case"DELETE_ALL_TODOS_SUCCES":case"DELETE_TODO_PANDING":case"DELETE_TODO_SUCCES":case"UPDATE_TODO_PANDING":case"UPDATE_TODO_SUCCES":return Object(o.a)(Object(o.a)({},e),{},{todos:t.payload});case"ADD_TODO_ERROR":return Object(o.a)(Object(o.a)({},e),{},{error:t.payload});case"ADD_TODO_PANDING":return Object(o.a)(Object(o.a)({},e),{},{panding:t.payload});case"ADD_TODO_SUCCES":return Object(o.a)(Object(o.a)({},e),{},{todos:t.payload});default:return e}},be={key:"root",storage:a.n(Oe).a},Ee=Object(de.a)(be,me),fe=Object(z.a)(),ve=function(){var e;return e=Object($.createStore)(Ee,Object($.applyMiddleware)(fe)),fe.run(ue),{store:e,persistor:Object(de.b)(e)}}(),_e=ve.persistor,je=ve.store,he=a(41);l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C.a,{store:je},c.a.createElement(he.a,{persistor:_e},c.a.createElement(V,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.8c24cd66.chunk.js.map